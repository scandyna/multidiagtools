\hypertarget{classmdt_abstract_port}{
\section{mdtAbstractPort Class Reference}
\label{classmdt_abstract_port}\index{mdtAbstractPort@{mdtAbstractPort}}
}


Base class for port I/O.  




{\ttfamily \#include $<$mdtAbstractPort.h$>$}



Inheritance diagram for mdtAbstractPort:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classmdt_abstract_port__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for mdtAbstractPort:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=168pt]{classmdt_abstract_port__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85e}{error\_\-t} \{ \par
\hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85eab898bd273effe5cb4ed1a399a2d4baad}{NoError} =  0, 
\hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85eaedd63daf0db75794bb8e8e467da9575c}{PortLocked}, 
\hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85ea54a896ba3ff98896390e87bfe1f29eb0}{PortNotFound}, 
\hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85eaee5a84e59e9dc5fcf27cac57068bb1f4}{PortAccess}, 
\par
\hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85ea3d692317af7125319f60204df3101307}{SetupError}, 
\hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85ea14c0ddb478968710cb057a70406e4888}{WaitingCanceled}, 
\hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85eacb8cc31d0b00dda9e25ed1cc1fa17871}{UnknownError}
 \}
\begin{DoxyCompactList}\small\item\em Error. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Signals}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classmdt_abstract_port_a62c5e1f2beb6eddf740c8710ecb84ad1}{
void \hyperlink{classmdt_abstract_port_a62c5e1f2beb6eddf740c8710ecb84ad1}{readTimeoutStateChanged} (bool state)}
\label{classmdt_abstract_port_a62c5e1f2beb6eddf740c8710ecb84ad1}

\begin{DoxyCompactList}\small\item\em Emited when read timeout state changed. \end{DoxyCompactList}\item 
\hypertarget{classmdt_abstract_port_abd4a3e5738ac13167ddaafe95926ce4d}{
void \hyperlink{classmdt_abstract_port_abd4a3e5738ac13167ddaafe95926ce4d}{writeTimeoutStateChanged} (bool state)}
\label{classmdt_abstract_port_abd4a3e5738ac13167ddaafe95926ce4d}

\begin{DoxyCompactList}\small\item\em Emited when write timeout state changed. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classmdt_abstract_port_a35e7bff9413690833c832bf115da102f}{mdtAbstractPort} (QObject $\ast$parent=0)
\item 
virtual \hyperlink{classmdt_abstract_port_aa40baa0c593fef984f3796acafceee15}{$\sim$mdtAbstractPort} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_abstract_port_a0ca143d32fc677bac7c1cf0e04144932}{setPortName} (const QString \&portName)
\begin{DoxyCompactList}\small\item\em Set the port name. \end{DoxyCompactList}\item 
\hypertarget{classmdt_abstract_port_ac52fbd121f7cbb848a2f3e5d29fae615}{
QString \& \hyperlink{classmdt_abstract_port_ac52fbd121f7cbb848a2f3e5d29fae615}{portName} ()}
\label{classmdt_abstract_port_ac52fbd121f7cbb848a2f3e5d29fae615}

\begin{DoxyCompactList}\small\item\em Get port name. \end{DoxyCompactList}\item 
\hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85e}{error\_\-t} \hyperlink{classmdt_abstract_port_a4e0f0b7f9e24257677184e4bde10fdde}{open} ()
\begin{DoxyCompactList}\small\item\em Open the port given by \hyperlink{classmdt_abstract_port_a0ca143d32fc677bac7c1cf0e04144932}{setPortName()} \end{DoxyCompactList}\item 
\hypertarget{classmdt_abstract_port_a2122ae3141342ff38c8388e62b244e3b}{
bool \hyperlink{classmdt_abstract_port_a2122ae3141342ff38c8388e62b244e3b}{isOpen} () const }
\label{classmdt_abstract_port_a2122ae3141342ff38c8388e62b244e3b}

\begin{DoxyCompactList}\small\item\em Get port's open state. \end{DoxyCompactList}\item 
virtual void \hyperlink{classmdt_abstract_port_a1ace1a2bd1a04f16952980e247b04800}{close} ()
\begin{DoxyCompactList}\small\item\em Close the port. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_abstract_port_a48bdc0a8057c3b119763643098cf798f}{setConfig} (\hyperlink{classmdt_port_config}{mdtPortConfig} $\ast$cfg)
\begin{DoxyCompactList}\small\item\em Abort the waiting functions. \end{DoxyCompactList}\item 
\hypertarget{classmdt_abstract_port_a3d105c90696f7c40f29c24fe9b6e4481}{
\hyperlink{classmdt_port_config}{mdtPortConfig} \& \hyperlink{classmdt_abstract_port_a3d105c90696f7c40f29c24fe9b6e4481}{config} ()}
\label{classmdt_abstract_port_a3d105c90696f7c40f29c24fe9b6e4481}

\begin{DoxyCompactList}\small\item\em Get the stored configuration. \end{DoxyCompactList}\item 
\hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85e}{error\_\-t} \hyperlink{classmdt_abstract_port_abc9f1154ac71c4e31ac3e7a3ff4c5182}{setup} ()
\begin{DoxyCompactList}\small\item\em Setup port with given configurations. \end{DoxyCompactList}\item 
virtual void \hyperlink{classmdt_abstract_port_a6589b04467e0073d18ba872201bdcd84}{setReadTimeout} (int timeout)=0
\begin{DoxyCompactList}\small\item\em Set the read data timeout. \end{DoxyCompactList}\item 
virtual void \hyperlink{classmdt_abstract_port_a12eb422d52ebb09a650f8497b258c2e7}{setWriteTimeout} (int timeout)=0
\begin{DoxyCompactList}\small\item\em Set the write data timeout. \end{DoxyCompactList}\item 
virtual bool \hyperlink{classmdt_abstract_port_a848e3c86aa6ec480e8c471655fbcf5c5}{waitForReadyRead} ()=0
\begin{DoxyCompactList}\small\item\em Wait until data is available on port. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_abstract_port_ae77785fbad938eac5f24f437e7683277}{waitForReadyRead} (int msecs)
\begin{DoxyCompactList}\small\item\em Wait until data is available on port. \end{DoxyCompactList}\item 
virtual qint64 \hyperlink{classmdt_abstract_port_a9d9c45220d5328c9856a2445557fe970}{read} (char $\ast$data, qint64 maxSize)=0
\begin{DoxyCompactList}\small\item\em Read data from port. \end{DoxyCompactList}\item 
virtual bool \hyperlink{classmdt_abstract_port_aff3d79248baf96e670eba6d2fef700b9}{suspendTransmission} ()
\begin{DoxyCompactList}\small\item\em Request to suspend transmission. \end{DoxyCompactList}\item 
virtual bool \hyperlink{classmdt_abstract_port_ad4a04c995df881593db0a309000be7a7}{resumeTransmission} ()
\begin{DoxyCompactList}\small\item\em Request to resume transmission. \end{DoxyCompactList}\item 
virtual void \hyperlink{classmdt_abstract_port_a32329b4188db796401e4f454755acb44}{flushIn} ()
\begin{DoxyCompactList}\small\item\em Flush read buffers. \end{DoxyCompactList}\item 
virtual void \hyperlink{classmdt_abstract_port_ab1738b5b6b78743ee2d36ccf5daa7c00}{readOneFrame} ()
\begin{DoxyCompactList}\small\item\em Just for special cases. \end{DoxyCompactList}\item 
virtual void \hyperlink{classmdt_abstract_port_a2235d62d9a9e4555d41773c41cc3bc70}{writeOneFrame} ()
\begin{DoxyCompactList}\small\item\em Just for special cases. \end{DoxyCompactList}\item 
virtual bool \hyperlink{classmdt_abstract_port_a7773bc21c63ce6a275f5a0889935ac83}{waitEventWriteReady} ()=0
\begin{DoxyCompactList}\small\item\em Wait until data can be written to port. \end{DoxyCompactList}\item 
virtual qint64 \hyperlink{classmdt_abstract_port_a64d4802975a76474b9196c91f57a6d90}{write} (const char $\ast$data, qint64 maxSize)=0
\begin{DoxyCompactList}\small\item\em Write data to port. \end{DoxyCompactList}\item 
virtual void \hyperlink{classmdt_abstract_port_ad199c6310801893f1f7de2a2391606fc}{flushOut} ()
\begin{DoxyCompactList}\small\item\em Flush write buffers. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_abstract_port_a0fc7317e988d5dea53a999cd1bf4faa9}{updateReadTimeoutState} (bool state)
\begin{DoxyCompactList}\small\item\em Update the read timeout state. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_abstract_port_ab51135de1f7bbc4707c3284f924c98dc}{updateWriteTimeoutState} (bool state)
\begin{DoxyCompactList}\small\item\em Update the write timeout state. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_abstract_port_aec94143165e486cbbe6e0979be887c7e}{readTimeoutOccured} ()
\begin{DoxyCompactList}\small\item\em Returns read timeout state. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_abstract_port_a7c05a1abe77f0c3c334016c6ad866f67}{writeTimeoutOccured} ()
\begin{DoxyCompactList}\small\item\em Returns write timeout state. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_abstract_port_adf06d095d6c3e6ce939a3998bcf8b829}{initQueues} ()
\begin{DoxyCompactList}\small\item\em Init the read ans write queues. \end{DoxyCompactList}\item 
QQueue$<$ \hyperlink{classmdt_frame}{mdtFrame} $\ast$ $>$ \& \hyperlink{classmdt_abstract_port_a05356a33dc546a11d2794a0419d749e0}{readenFrames} ()
\begin{DoxyCompactList}\small\item\em Get the readen frames Queue. \end{DoxyCompactList}\item 
QQueue$<$ \hyperlink{classmdt_frame}{mdtFrame} $\ast$ $>$ \& \hyperlink{classmdt_abstract_port_a3850ab819a8fc5dad22af14b74c45274}{readFramesPool} ()
\begin{DoxyCompactList}\small\item\em Get the read frames Queue pool. \end{DoxyCompactList}\item 
QQueue$<$ \hyperlink{classmdt_frame}{mdtFrame} $\ast$ $>$ \& \hyperlink{classmdt_abstract_port_a4fed10be147dfce6ca315467ff3fb968}{writeFrames} ()
\begin{DoxyCompactList}\small\item\em Get the write frames Queue. \end{DoxyCompactList}\item 
QQueue$<$ \hyperlink{classmdt_frame}{mdtFrame} $\ast$ $>$ \& \hyperlink{classmdt_abstract_port_abf093b67fddebffa4f3c52277b9a8cf7}{writeFramesPool} ()
\begin{DoxyCompactList}\small\item\em Get the write frames Queue pool. \end{DoxyCompactList}\item 
\hypertarget{classmdt_abstract_port_a6bf2ecdcf894da3929a22eb8793a9fe3}{
void \hyperlink{classmdt_abstract_port_a6bf2ecdcf894da3929a22eb8793a9fe3}{lockMutex} ()}
\label{classmdt_abstract_port_a6bf2ecdcf894da3929a22eb8793a9fe3}

\begin{DoxyCompactList}\small\item\em Lock the mutex. \end{DoxyCompactList}\item 
\hypertarget{classmdt_abstract_port_a3523c72a06e4d950338f91e56c286e84}{
void \hyperlink{classmdt_abstract_port_a3523c72a06e4d950338f91e56c286e84}{unlockMutex} ()}
\label{classmdt_abstract_port_a3523c72a06e4d950338f91e56c286e84}

\begin{DoxyCompactList}\small\item\em Unlock the mutex. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual \hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85e}{error\_\-t} \hyperlink{classmdt_abstract_port_ac1440ea9759cbbee9efc5ea22afcdb0a}{pvOpen} ()=0
\begin{DoxyCompactList}\small\item\em Open the port given by \hyperlink{classmdt_abstract_port_a0ca143d32fc677bac7c1cf0e04144932}{setPortName()} \end{DoxyCompactList}\item 
virtual void \hyperlink{classmdt_abstract_port_add29e91ccc4be62ab5c0dcb2a68ae8f0}{pvClose} ()=0
\begin{DoxyCompactList}\small\item\em Close port. \end{DoxyCompactList}\item 
virtual \hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85e}{error\_\-t} \hyperlink{classmdt_abstract_port_a880e5ae1699af102f9a80501bb6a0021}{pvSetup} ()=0
\begin{DoxyCompactList}\small\item\em Setup port with given configurations. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classmdt_abstract_port_a9faa5966fcf4232b3d25034c0f67dd7c}{
bool {\bfseries pvReadTimeoutOccured}}
\label{classmdt_abstract_port_a9faa5966fcf4232b3d25034c0f67dd7c}

\item 
\hypertarget{classmdt_abstract_port_a2530e291d5ae4c1584595f9a5df7e9ff}{
bool {\bfseries pvReadTimeoutOccuredPrevious}}
\label{classmdt_abstract_port_a2530e291d5ae4c1584595f9a5df7e9ff}

\item 
\hypertarget{classmdt_abstract_port_ae5a003d280237700c8aa3cb6184e2d1b}{
bool {\bfseries pvWriteTimeoutOccured}}
\label{classmdt_abstract_port_ae5a003d280237700c8aa3cb6184e2d1b}

\item 
\hypertarget{classmdt_abstract_port_a8b65c0e26dc13147f02571ba74bef539}{
bool {\bfseries pvWriteTimeoutOccuredPrevious}}
\label{classmdt_abstract_port_a8b65c0e26dc13147f02571ba74bef539}

\item 
\hypertarget{classmdt_abstract_port_a412c3e4903bf7d90914cfeb273e82623}{
QQueue$<$ \hyperlink{classmdt_frame}{mdtFrame} $\ast$ $>$ {\bfseries pvReadenFrames}}
\label{classmdt_abstract_port_a412c3e4903bf7d90914cfeb273e82623}

\item 
\hypertarget{classmdt_abstract_port_a3d6bb9b420f64776d8fd077cf2b9b873}{
QQueue$<$ \hyperlink{classmdt_frame}{mdtFrame} $\ast$ $>$ {\bfseries pvReadFramesPool}}
\label{classmdt_abstract_port_a3d6bb9b420f64776d8fd077cf2b9b873}

\item 
\hypertarget{classmdt_abstract_port_a12cd5c1ba100b018539ed909a481d6dc}{
QQueue$<$ \hyperlink{classmdt_frame}{mdtFrame} $\ast$ $>$ {\bfseries pvWriteFrames}}
\label{classmdt_abstract_port_a12cd5c1ba100b018539ed909a481d6dc}

\item 
\hypertarget{classmdt_abstract_port_a67a8b1965f20a55ad115926aed0234b4}{
QQueue$<$ \hyperlink{classmdt_frame}{mdtFrame} $\ast$ $>$ {\bfseries pvWriteFramesPool}}
\label{classmdt_abstract_port_a67a8b1965f20a55ad115926aed0234b4}

\item 
\hypertarget{classmdt_abstract_port_a035d72bddbac47f405a8ecf0d2eeba66}{
\hyperlink{classmdt_port_config}{mdtPortConfig} $\ast$ {\bfseries pvConfig}}
\label{classmdt_abstract_port_a035d72bddbac47f405a8ecf0d2eeba66}

\item 
\hypertarget{classmdt_abstract_port_afb8f8a723ff2db5141f18750020a7ee9}{
QString {\bfseries pvPortName}}
\label{classmdt_abstract_port_afb8f8a723ff2db5141f18750020a7ee9}

\item 
\hypertarget{classmdt_abstract_port_a357bce65bc031fffa87090a26ab88a08}{
QMutex {\bfseries pvMutex}}
\label{classmdt_abstract_port_a357bce65bc031fffa87090a26ab88a08}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Base class for port I/O. 

\subsection{Member Enumeration Documentation}
\hypertarget{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85e}{
\index{mdtAbstractPort@{mdtAbstractPort}!error\_\-t@{error\_\-t}}
\index{error\_\-t@{error\_\-t}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{error\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf mdtAbstractPort::error\_\-t}}}
\label{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85e}


Error. 

\begin{Desc}
\item[Enumerator: ]\par
\begin{description}
\index{NoError@{NoError}!mdtAbstractPort@{mdtAbstractPort}}\index{mdtAbstractPort@{mdtAbstractPort}!NoError@{NoError}}\item[{\em 
\hypertarget{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85eab898bd273effe5cb4ed1a399a2d4baad}{
NoError}
\label{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85eab898bd273effe5cb4ed1a399a2d4baad}
}]No error \index{PortLocked@{PortLocked}!mdtAbstractPort@{mdtAbstractPort}}\index{mdtAbstractPort@{mdtAbstractPort}!PortLocked@{PortLocked}}\item[{\em 
\hypertarget{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85eaedd63daf0db75794bb8e8e467da9575c}{
PortLocked}
\label{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85eaedd63daf0db75794bb8e8e467da9575c}
}]Port is allready locked \index{PortNotFound@{PortNotFound}!mdtAbstractPort@{mdtAbstractPort}}\index{mdtAbstractPort@{mdtAbstractPort}!PortNotFound@{PortNotFound}}\item[{\em 
\hypertarget{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85ea54a896ba3ff98896390e87bfe1f29eb0}{
PortNotFound}
\label{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85ea54a896ba3ff98896390e87bfe1f29eb0}
}]Port was not found \index{PortAccess@{PortAccess}!mdtAbstractPort@{mdtAbstractPort}}\index{mdtAbstractPort@{mdtAbstractPort}!PortAccess@{PortAccess}}\item[{\em 
\hypertarget{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85eaee5a84e59e9dc5fcf27cac57068bb1f4}{
PortAccess}
\label{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85eaee5a84e59e9dc5fcf27cac57068bb1f4}
}]Port cannot be open with requierd access (read, write) \index{SetupError@{SetupError}!mdtAbstractPort@{mdtAbstractPort}}\index{mdtAbstractPort@{mdtAbstractPort}!SetupError@{SetupError}}\item[{\em 
\hypertarget{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85ea3d692317af7125319f60204df3101307}{
SetupError}
\label{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85ea3d692317af7125319f60204df3101307}
}]Setup failed on a configuration option \index{WaitingCanceled@{WaitingCanceled}!mdtAbstractPort@{mdtAbstractPort}}\index{mdtAbstractPort@{mdtAbstractPort}!WaitingCanceled@{WaitingCanceled}}\item[{\em 
\hypertarget{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85ea14c0ddb478968710cb057a70406e4888}{
WaitingCanceled}
\label{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85ea14c0ddb478968710cb057a70406e4888}
}]When a thread (\hyperlink{classmdt_port_thread}{mdtPortThread} or subclass) is stopping, it will cancel blocking calls (like \hyperlink{classmdt_abstract_port_a848e3c86aa6ec480e8c471655fbcf5c5}{waitForReadyRead()} or \hyperlink{classmdt_abstract_port_a7773bc21c63ce6a275f5a0889935ac83}{waitEventWriteReady()} ). At this case, this error is returned, and the thread knows that it can cleanup and end. \index{UnknownError@{UnknownError}!mdtAbstractPort@{mdtAbstractPort}}\index{mdtAbstractPort@{mdtAbstractPort}!UnknownError@{UnknownError}}\item[{\em 
\hypertarget{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85eacb8cc31d0b00dda9e25ed1cc1fa17871}{
UnknownError}
\label{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85eacb8cc31d0b00dda9e25ed1cc1fa17871}
}]Unknown error is happen. Logfile could give more information, see \hyperlink{classmdt_error}{mdtError} and \hyperlink{classmdt_application}{mdtApplication} \end{description}
\end{Desc}



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classmdt_abstract_port_a35e7bff9413690833c832bf115da102f}{
\index{mdtAbstractPort@{mdtAbstractPort}!mdtAbstractPort@{mdtAbstractPort}}
\index{mdtAbstractPort@{mdtAbstractPort}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{mdtAbstractPort}]{\setlength{\rightskip}{0pt plus 5cm}mdtAbstractPort::mdtAbstractPort (
\begin{DoxyParamCaption}
\item[{QObject $\ast$}]{parent = {\ttfamily 0}}
\end{DoxyParamCaption}
)}}
\label{classmdt_abstract_port_a35e7bff9413690833c832bf115da102f}


\#ifdef Q\_\-OS\_\-UNIX pvNativePthreadObject = 0; We must catch the SIGALRM signal, else the application process will be killed by pthread\_\-kill() sigemptyset(\&(pvSigaction.sa\_\-mask)); pvSigaction.sa\_\-flags = 0; pvSigaction.sa\_\-handler = sigactionHandle; sigaction(SIGALRM, \&pvSigaction, NULL); \#endif

\hypertarget{classmdt_abstract_port_aa40baa0c593fef984f3796acafceee15}{
\index{mdtAbstractPort@{mdtAbstractPort}!$\sim$mdtAbstractPort@{$\sim$mdtAbstractPort}}
\index{$\sim$mdtAbstractPort@{$\sim$mdtAbstractPort}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{$\sim$mdtAbstractPort}]{\setlength{\rightskip}{0pt plus 5cm}mdtAbstractPort::$\sim$mdtAbstractPort (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classmdt_abstract_port_aa40baa0c593fef984f3796acafceee15}


Destructor. 

Subclass notes:\par
 This destructor cannot call the \hyperlink{classmdt_abstract_port_a1ace1a2bd1a04f16952980e247b04800}{close()} method, because this will call the \hyperlink{classmdt_abstract_port_add29e91ccc4be62ab5c0dcb2a68ae8f0}{pvClose()} from destructed inherited object. So, the subclass must call \hyperlink{classmdt_abstract_port_a1ace1a2bd1a04f16952980e247b04800}{close()} in its own destructor. 

\subsection{Member Function Documentation}
\hypertarget{classmdt_abstract_port_a1ace1a2bd1a04f16952980e247b04800}{
\index{mdtAbstractPort@{mdtAbstractPort}!close@{close}}
\index{close@{close}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{close}]{\setlength{\rightskip}{0pt plus 5cm}void mdtAbstractPort::close (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classmdt_abstract_port_a1ace1a2bd1a04f16952980e247b04800}


Close the port. 

Close port if it is open.

The mutex is not handled by this method.

Subclass notes:\par
 Internally, this method calls \hyperlink{classmdt_abstract_port_add29e91ccc4be62ab5c0dcb2a68ae8f0}{pvClose()}. Once done, the flags are updated. Note that this method must be called from subclass destructor. See \hyperlink{classmdt_abstract_port_aa40baa0c593fef984f3796acafceee15}{$\sim$mdtAbstractPort()} for details.

\begin{Desc}
\item[\hyperlink{todo__todo000003}{Todo}]Actuellement, les queues sont delet√©e ici, que faire ? \end{Desc}


Reimplemented in \hyperlink{classmdt_abstract_serial_port_ae668910f98ad0e158dc6ebebf0c19805}{mdtAbstractSerialPort}.

\hypertarget{classmdt_abstract_port_a32329b4188db796401e4f454755acb44}{
\index{mdtAbstractPort@{mdtAbstractPort}!flushIn@{flushIn}}
\index{flushIn@{flushIn}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{flushIn}]{\setlength{\rightskip}{0pt plus 5cm}void mdtAbstractPort::flushIn (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classmdt_abstract_port_a32329b4188db796401e4f454755acb44}


Flush read buffers. 

Subclass notes:\par
 This method must be implemented in subclass.\par
 To handle port correctly, subclass must:
\begin{DoxyItemize}
\item Lock the mutex with \hyperlink{classmdt_abstract_port_a6bf2ecdcf894da3929a22eb8793a9fe3}{lockMutex()}
\item Call specific system flush function
\item Call this flush method ( with \hyperlink{classmdt_abstract_port_a32329b4188db796401e4f454755acb44}{mdtAbstractPort::flushIn()} ). The last step will move all pending frames to read pool.\par
 Note: if subclass has nothing to do it must lock the mutex and call this method. 
\end{DoxyItemize}

Reimplemented in \hyperlink{classmdt_port_a2fea088c8e5ad4578f521a39c353f7c3}{mdtPort}, and \hyperlink{classmdt_serial_port_a597d013bbe18b1f946b99f68a4856a87}{mdtSerialPort}.

\hypertarget{classmdt_abstract_port_ad199c6310801893f1f7de2a2391606fc}{
\index{mdtAbstractPort@{mdtAbstractPort}!flushOut@{flushOut}}
\index{flushOut@{flushOut}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{flushOut}]{\setlength{\rightskip}{0pt plus 5cm}void mdtAbstractPort::flushOut (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classmdt_abstract_port_ad199c6310801893f1f7de2a2391606fc}


Flush write buffers. 

Subclass notes:\par
 This method must be implemented in subclass.\par
 To handle port correctly, subclass must:
\begin{DoxyItemize}
\item Lock the mutex with \hyperlink{classmdt_abstract_port_a6bf2ecdcf894da3929a22eb8793a9fe3}{lockMutex()}
\item Call specific system flush function
\item Call this flush method ( with \hyperlink{classmdt_abstract_port_ad199c6310801893f1f7de2a2391606fc}{mdtAbstractPort::flushOut()} ). The last step will move all pending frames to read pool.\par
 Note: if subclass has nothing to do it must lock the mutex and call this method. 
\end{DoxyItemize}

Reimplemented in \hyperlink{classmdt_port_a42022f9fe08166418711b956c6aabb49}{mdtPort}, and \hyperlink{classmdt_serial_port_a3a446c34c9f98e0c14637ab3dcab98d0}{mdtSerialPort}.

\hypertarget{classmdt_abstract_port_adf06d095d6c3e6ce939a3998bcf8b829}{
\index{mdtAbstractPort@{mdtAbstractPort}!initQueues@{initQueues}}
\index{initQueues@{initQueues}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{initQueues}]{\setlength{\rightskip}{0pt plus 5cm}void mdtAbstractPort::initQueues (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_abstract_port_adf06d095d6c3e6ce939a3998bcf8b829}


Init the read ans write queues. 

\begin{DoxyPrecond}{Precondition}
A valid configuration must be set before using this method. 
\end{DoxyPrecond}
\hypertarget{classmdt_abstract_port_a4e0f0b7f9e24257677184e4bde10fdde}{
\index{mdtAbstractPort@{mdtAbstractPort}!open@{open}}
\index{open@{open}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{open}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mdtAbstractPort::error\_\-t} mdtAbstractPort::open (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_abstract_port_a4e0f0b7f9e24257677184e4bde10fdde}


Open the port given by \hyperlink{classmdt_abstract_port_a0ca143d32fc677bac7c1cf0e04144932}{setPortName()} 

If port can be open successfull, NoError code is returned. If port is open, it will be closed first (by calling \hyperlink{classmdt_abstract_port_a1ace1a2bd1a04f16952980e247b04800}{close()}).

The mutex is not handled by this method.

Subclass notes:\par
 Internally, this method calls \hyperlink{classmdt_abstract_port_ac1440ea9759cbbee9efc5ea22afcdb0a}{pvOpen()}. Once done, the flags are updated.

\begin{DoxySeeAlso}{See also}
\hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85e}{error\_\-t} 
\end{DoxySeeAlso}
\hypertarget{classmdt_abstract_port_add29e91ccc4be62ab5c0dcb2a68ae8f0}{
\index{mdtAbstractPort@{mdtAbstractPort}!pvClose@{pvClose}}
\index{pvClose@{pvClose}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{pvClose}]{\setlength{\rightskip}{0pt plus 5cm}virtual void mdtAbstractPort::pvClose (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected, pure virtual\mbox{]}}}}
\label{classmdt_abstract_port_add29e91ccc4be62ab5c0dcb2a68ae8f0}


Close port. 

The mutex is not handled by this method.

\begin{DoxyPrecond}{Precondition}
The port must be open whenn calling this method.
\end{DoxyPrecond}
Subclass notes:\par
 This method must be re-\/implemented in subclass.\par
 To handle the port correctly, the subclass method must:
\begin{DoxyItemize}
\item Do the specific work. Note that port was open in exclusive mode. On Linux, don't forget to unlock the port with \hyperlink{classmdt_port_lock}{mdtPortLock}.
\item The \hyperlink{classmdt_error}{mdtError} system should be used (on error) to keep trace in logfile. 
\end{DoxyItemize}\hypertarget{classmdt_abstract_port_ac1440ea9759cbbee9efc5ea22afcdb0a}{
\index{mdtAbstractPort@{mdtAbstractPort}!pvOpen@{pvOpen}}
\index{pvOpen@{pvOpen}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{pvOpen}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf error\_\-t} mdtAbstractPort::pvOpen (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected, pure virtual\mbox{]}}}}
\label{classmdt_abstract_port_ac1440ea9759cbbee9efc5ea22afcdb0a}


Open the port given by \hyperlink{classmdt_abstract_port_a0ca143d32fc677bac7c1cf0e04144932}{setPortName()} 

If port can be open successfull, NoError code is returned.

The mutex is not handled by this method.

\begin{DoxyPrecond}{Precondition}
The port must not be open whenn calling this method.
\end{DoxyPrecond}
Subclass notes:\par
 This method must be re-\/implemented in subclass.\par
 To handle the port correctly, the subclass method must:
\begin{DoxyItemize}
\item Do the specific work. Note that port must be open in exclusive mode. On Linux, the \hyperlink{classmdt_port_lock}{mdtPortLock} should be used for this.
\item The \hyperlink{classmdt_error}{mdtError} system should be used (on error) to keep trace in logfile.
\item If port must be closed (f.ex. on error), use the \hyperlink{classmdt_abstract_port_a1ace1a2bd1a04f16952980e247b04800}{close()} method to keep flags coherent.
\item Return the correct error code on failure (see the error\_\-t enum)
\end{DoxyItemize}

\begin{DoxySeeAlso}{See also}
\hyperlink{classmdt_abstract_port_a1ace1a2bd1a04f16952980e247b04800}{close()} 

\hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85e}{error\_\-t} 
\end{DoxySeeAlso}
\hypertarget{classmdt_abstract_port_a880e5ae1699af102f9a80501bb6a0021}{
\index{mdtAbstractPort@{mdtAbstractPort}!pvSetup@{pvSetup}}
\index{pvSetup@{pvSetup}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{pvSetup}]{\setlength{\rightskip}{0pt plus 5cm}virtual {\bf error\_\-t} mdtAbstractPort::pvSetup (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected, pure virtual\mbox{]}}}}
\label{classmdt_abstract_port_a880e5ae1699af102f9a80501bb6a0021}


Setup port with given configurations. 

The mutex is not handled by this method.

\begin{DoxyPrecond}{Precondition}
The port must be open whenn calling this method. 

A valid configuration must be set before calling this method.
\end{DoxyPrecond}
Subclass notes:\par
 This method must be re-\/implemented in subclass.\par
 To handle the port correctly, the subclass method must:
\begin{DoxyItemize}
\item Do the specific work
\item Set read/write timeouts using \hyperlink{classmdt_abstract_port_a6589b04467e0073d18ba872201bdcd84}{setReadTimeout()} and \hyperlink{classmdt_abstract_port_a12eb422d52ebb09a650f8497b258c2e7}{setWriteTimeout()}. See \hyperlink{classmdt_port_config}{mdtPortConfig} to know how to get these timeouts.
\item Return the correct error code on failure (see the error\_\-t enum)
\end{DoxyItemize}

Configuration is available using \hyperlink{classmdt_abstract_port_a3d105c90696f7c40f29c24fe9b6e4481}{config()}.

\begin{DoxySeeAlso}{See also}
\hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85e}{error\_\-t} 
\end{DoxySeeAlso}
\hypertarget{classmdt_abstract_port_a9d9c45220d5328c9856a2445557fe970}{
\index{mdtAbstractPort@{mdtAbstractPort}!read@{read}}
\index{read@{read}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{read}]{\setlength{\rightskip}{0pt plus 5cm}virtual qint64 mdtAbstractPort::read (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{data, }
\item[{qint64}]{maxSize}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classmdt_abstract_port_a9d9c45220d5328c9856a2445557fe970}


Read data from port. 

This method is called from \hyperlink{classmdt_port_read_thread}{mdtPortReadThread} , and should not be used directly.

Mutex is not handled by this method.

Subclass notes:\par
 This method must be implemented in subclass.\par


\begin{DoxyReturn}{Returns}
Number of bytes readen, or a error $<$ 0 
\end{DoxyReturn}


Implemented in \hyperlink{classmdt_port_ad8a196bb21b6ca76dffb068a1692904a}{mdtPort}, \hyperlink{classmdt_usbtmc_port_a91f45336ca9a71284e0309182f5e8ca1}{mdtUsbtmcPort}, \hyperlink{classmdt_tcp_socket_a78842bc5ddcac2d96fb368ee575214cd}{mdtTcpSocket}, and \hyperlink{classmdt_serial_port_a12274d7956b2af961ccdd36cfc2052cc}{mdtSerialPort}.

\hypertarget{classmdt_abstract_port_a05356a33dc546a11d2794a0419d749e0}{
\index{mdtAbstractPort@{mdtAbstractPort}!readenFrames@{readenFrames}}
\index{readenFrames@{readenFrames}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{readenFrames}]{\setlength{\rightskip}{0pt plus 5cm}QQueue$<$ {\bf mdtFrame} $\ast$ $>$ \& mdtAbstractPort::readenFrames (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_abstract_port_a05356a33dc546a11d2794a0419d749e0}


Get the readen frames Queue. 

Readen frames queue contains frames that where received from device

Mutex is not handled by this method. \hypertarget{classmdt_abstract_port_a3850ab819a8fc5dad22af14b74c45274}{
\index{mdtAbstractPort@{mdtAbstractPort}!readFramesPool@{readFramesPool}}
\index{readFramesPool@{readFramesPool}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{readFramesPool}]{\setlength{\rightskip}{0pt plus 5cm}QQueue$<$ {\bf mdtFrame} $\ast$ $>$ \& mdtAbstractPort::readFramesPool (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_abstract_port_a3850ab819a8fc5dad22af14b74c45274}


Get the read frames Queue pool. 

Read frames queue pool contains frames that are ready to use for reception

Mutex is not handled by this method. \hypertarget{classmdt_abstract_port_ab1738b5b6b78743ee2d36ccf5daa7c00}{
\index{mdtAbstractPort@{mdtAbstractPort}!readOneFrame@{readOneFrame}}
\index{readOneFrame@{readOneFrame}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{readOneFrame}]{\setlength{\rightskip}{0pt plus 5cm}void mdtAbstractPort::readOneFrame (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classmdt_abstract_port_ab1738b5b6b78743ee2d36ccf5daa7c00}


Just for special cases. 

In some case, this method is implemented in subclass. Default implementation does nothing. \begin{DoxySeeAlso}{See also}
\hyperlink{classmdt_usbtmc_port}{mdtUsbtmcPort} 
\end{DoxySeeAlso}


Reimplemented in \hyperlink{classmdt_usbtmc_port_a86ee5e17c32dea75e9f918389d3f7afc}{mdtUsbtmcPort}.

\hypertarget{classmdt_abstract_port_aec94143165e486cbbe6e0979be887c7e}{
\index{mdtAbstractPort@{mdtAbstractPort}!readTimeoutOccured@{readTimeoutOccured}}
\index{readTimeoutOccured@{readTimeoutOccured}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{readTimeoutOccured}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtAbstractPort::readTimeoutOccured (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_abstract_port_aec94143165e486cbbe6e0979be887c7e}


Returns read timeout state. 

Mutex is not handled by this method. \hypertarget{classmdt_abstract_port_ad4a04c995df881593db0a309000be7a7}{
\index{mdtAbstractPort@{mdtAbstractPort}!resumeTransmission@{resumeTransmission}}
\index{resumeTransmission@{resumeTransmission}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{resumeTransmission}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtAbstractPort::resumeTransmission (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classmdt_abstract_port_ad4a04c995df881593db0a309000be7a7}


Request to resume transmission. 

This method is called from \hyperlink{classmdt_port_read_thread}{mdtPortReadThread} , and should not be used directly.\par
 Mutex is not handled by this method.

Subclass notes:\par
 This method must be implemented in subclass if requierd.\par
 Note about serial port subclass:\par
 the right flow control must be used regarding enabled flow control.\par
 Default implementation does nothing.\par


\begin{DoxyReturn}{Returns}
False on error, in this case, the reader thread will be stopped. 
\end{DoxyReturn}


Reimplemented in \hyperlink{classmdt_serial_port_a02fd5ee74a7f52c3bce0545ec8a659bf}{mdtSerialPort}.

\hypertarget{classmdt_abstract_port_a48bdc0a8057c3b119763643098cf798f}{
\index{mdtAbstractPort@{mdtAbstractPort}!setConfig@{setConfig}}
\index{setConfig@{setConfig}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{setConfig}]{\setlength{\rightskip}{0pt plus 5cm}void mdtAbstractPort::setConfig (
\begin{DoxyParamCaption}
\item[{{\bf mdtPortConfig} $\ast$}]{cfg}
\end{DoxyParamCaption}
)}}
\label{classmdt_abstract_port_a48bdc0a8057c3b119763643098cf798f}


Abort the waiting functions. 

This method is called from main thread (\hyperlink{classmdt_port_thread_a5746ea96689ed80179751ad1353f0b39}{mdtPortThread::stop()}), and cause the system's wait functions to be aborted. Example are select() or ioctl() on POSIX. On Windows, the appropriate event of WaitForMultipleObjects() should be set.

The mutex is not handled by this method.

Subclass notes:\par
 This method must be implement in subclass, and use the system's native way to abort blocking system calls. On POSIX, the pthread\_\-kill() can be used with SIGALRM. The pvNativePthreadObject must be used.\par
 On Windows, the WaitForMultipleObjects() seems to be a good aproach.virtual void abortWaiting() = 0;

Set the internal pthrad\_\-t object (POSIX only)

This method is called from a thread (subclass of \hyperlink{classmdt_port_thread}{mdtPortThread}) to set the pthread\_\-t instance.

The mutex is not handled by this method.void setNativePthreadObject(pthread\_\-t thread);

Handle function for sigaction

This default implementation does nothing.static void sigactionHandle(int signum);

Set configuration

void mdtAbstractPort::setNativePthreadObject(pthread\_\-t thread) \{ pvNativePthreadObject = thread; \} void mdtAbstractPort::sigactionHandle(int) \{ \} \hypertarget{classmdt_abstract_port_a0ca143d32fc677bac7c1cf0e04144932}{
\index{mdtAbstractPort@{mdtAbstractPort}!setPortName@{setPortName}}
\index{setPortName@{setPortName}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{setPortName}]{\setlength{\rightskip}{0pt plus 5cm}void mdtAbstractPort::setPortName (
\begin{DoxyParamCaption}
\item[{const QString \&}]{portName}
\end{DoxyParamCaption}
)}}
\label{classmdt_abstract_port_a0ca143d32fc677bac7c1cf0e04144932}


Set the port name. 

Port name can be, f.ex. /dev/ttyS0 on Linux, or COM1 on Windows. This method just store given port name and does nothing else. \hypertarget{classmdt_abstract_port_a6589b04467e0073d18ba872201bdcd84}{
\index{mdtAbstractPort@{mdtAbstractPort}!setReadTimeout@{setReadTimeout}}
\index{setReadTimeout@{setReadTimeout}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{setReadTimeout}]{\setlength{\rightskip}{0pt plus 5cm}virtual void mdtAbstractPort::setReadTimeout (
\begin{DoxyParamCaption}
\item[{int}]{timeout}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classmdt_abstract_port_a6589b04467e0073d18ba872201bdcd84}


Set the read data timeout. 

The mutex is not handled by this method.

Subclass notes:\par
 This method must be re-\/implemented in subclass. The subclass can convert and store the value in system specific type (f.ex: timeval struct on Posix)


\begin{DoxyParams}{Parameters}
{\em timeout} & Timeout \mbox{[}ms\mbox{]}. A value of -\/1 means a infinite timeout. \\
\hline
\end{DoxyParams}


Implemented in \hyperlink{classmdt_port_aa77b266f23744f1b53ae589f986be101}{mdtPort}, \hyperlink{classmdt_usbtmc_port_ad3ec37dab7918fad36190b1c4c58c266}{mdtUsbtmcPort}, \hyperlink{classmdt_tcp_socket_aae23057f2e0ee326d0fee78ffe3f00f9}{mdtTcpSocket}, and \hyperlink{classmdt_serial_port_a9105e5a3a640b56097c1156000ace933}{mdtSerialPort}.

\hypertarget{classmdt_abstract_port_abc9f1154ac71c4e31ac3e7a3ff4c5182}{
\index{mdtAbstractPort@{mdtAbstractPort}!setup@{setup}}
\index{setup@{setup}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{setup}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mdtAbstractPort::error\_\-t} mdtAbstractPort::setup (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_abstract_port_abc9f1154ac71c4e31ac3e7a3ff4c5182}


Setup port with given configurations. 

If port is not open, \hyperlink{classmdt_abstract_port_a4e0f0b7f9e24257677184e4bde10fdde}{open()} will be called first. Then, \hyperlink{classmdt_abstract_port_a880e5ae1699af102f9a80501bb6a0021}{pvSetup()} is called, and finally queues initialized with \hyperlink{classmdt_abstract_port_adf06d095d6c3e6ce939a3998bcf8b829}{initQueues()}. If somethig fails, the port is closed again, and error code returned.

The mutex is not handled by this method.

\begin{DoxyPrecond}{Precondition}
A valid configuration must be set before calling this method.
\end{DoxyPrecond}
\begin{DoxySeeAlso}{See also}
\hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85e}{error\_\-t} 
\end{DoxySeeAlso}
\hypertarget{classmdt_abstract_port_a12eb422d52ebb09a650f8497b258c2e7}{
\index{mdtAbstractPort@{mdtAbstractPort}!setWriteTimeout@{setWriteTimeout}}
\index{setWriteTimeout@{setWriteTimeout}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{setWriteTimeout}]{\setlength{\rightskip}{0pt plus 5cm}virtual void mdtAbstractPort::setWriteTimeout (
\begin{DoxyParamCaption}
\item[{int}]{timeout}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classmdt_abstract_port_a12eb422d52ebb09a650f8497b258c2e7}


Set the write data timeout. 

The mutex is not handled by this method.

Subclass notes:\par
 This method must be re-\/implemented in subclass. The subclass can convert and store the value in system specific type (f.ex: timeval struct on Posix)


\begin{DoxyParams}{Parameters}
{\em timeout} & Timeout \mbox{[}ms\mbox{]}. A value of -\/1 means a infinite timeout. \\
\hline
\end{DoxyParams}


Implemented in \hyperlink{classmdt_port_a2acb6e7bedacdadf78ee735dc611abfa}{mdtPort}, \hyperlink{classmdt_usbtmc_port_a18ff8b76d07cd75339204f9389e1dd5c}{mdtUsbtmcPort}, \hyperlink{classmdt_tcp_socket_ac59d2dfdf405b5382f0f20d5b9f75fd0}{mdtTcpSocket}, and \hyperlink{classmdt_serial_port_a036f49d743838013c9a8cbf6a1dd40d1}{mdtSerialPort}.

\hypertarget{classmdt_abstract_port_aff3d79248baf96e670eba6d2fef700b9}{
\index{mdtAbstractPort@{mdtAbstractPort}!suspendTransmission@{suspendTransmission}}
\index{suspendTransmission@{suspendTransmission}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{suspendTransmission}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtAbstractPort::suspendTransmission (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classmdt_abstract_port_aff3d79248baf96e670eba6d2fef700b9}


Request to suspend transmission. 

This method is called from \hyperlink{classmdt_port_read_thread}{mdtPortReadThread} , and should not be used directly.\par
 Mutex is not handled by this method.

Subclass notes:\par
 This method must be implemented in subclass if requierd.\par
 Note about serial port subclass:\par
 the right flow control must be used regarding enabled flow control.\par
 Default implementation does nothing.\par


\begin{DoxyReturn}{Returns}
False on error, in this case, the reader thread will be stopped. 
\end{DoxyReturn}


Reimplemented in \hyperlink{classmdt_serial_port_a9412faf413eca5ee3516139fdfaaf2fe}{mdtSerialPort}.

\hypertarget{classmdt_abstract_port_a0fc7317e988d5dea53a999cd1bf4faa9}{
\index{mdtAbstractPort@{mdtAbstractPort}!updateReadTimeoutState@{updateReadTimeoutState}}
\index{updateReadTimeoutState@{updateReadTimeoutState}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{updateReadTimeoutState}]{\setlength{\rightskip}{0pt plus 5cm}void mdtAbstractPort::updateReadTimeoutState (
\begin{DoxyParamCaption}
\item[{bool}]{state}
\end{DoxyParamCaption}
)}}
\label{classmdt_abstract_port_a0fc7317e988d5dea53a999cd1bf4faa9}


Update the read timeout state. 

This method must be called by system dependant waitEventRead() method. When the read timeout state chages, the signal \hyperlink{classmdt_abstract_port_a62c5e1f2beb6eddf740c8710ecb84ad1}{readTimeoutStateChanged()} is emited.\par
 Note: this method is called from \hyperlink{classmdt_port_read_thread}{mdtPortReadThread} , and should not be used directly\par
 Mutex is not handled by this method. \hypertarget{classmdt_abstract_port_ab51135de1f7bbc4707c3284f924c98dc}{
\index{mdtAbstractPort@{mdtAbstractPort}!updateWriteTimeoutState@{updateWriteTimeoutState}}
\index{updateWriteTimeoutState@{updateWriteTimeoutState}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{updateWriteTimeoutState}]{\setlength{\rightskip}{0pt plus 5cm}void mdtAbstractPort::updateWriteTimeoutState (
\begin{DoxyParamCaption}
\item[{bool}]{state}
\end{DoxyParamCaption}
)}}
\label{classmdt_abstract_port_ab51135de1f7bbc4707c3284f924c98dc}


Update the write timeout state. 

This method must be called by system dependant \hyperlink{classmdt_abstract_port_a7773bc21c63ce6a275f5a0889935ac83}{waitEventWriteReady()} method When the write timeout state chages, the signal \hyperlink{classmdt_abstract_port_abd4a3e5738ac13167ddaafe95926ce4d}{writeTimeoutStateChanged()} is emited.\par
 Note: this method is called from \hyperlink{classmdt_port_write_thread}{mdtPortWriteThread} , and should not be used directly\par
 Mutex is not handled by this method. \hypertarget{classmdt_abstract_port_a7773bc21c63ce6a275f5a0889935ac83}{
\index{mdtAbstractPort@{mdtAbstractPort}!waitEventWriteReady@{waitEventWriteReady}}
\index{waitEventWriteReady@{waitEventWriteReady}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{waitEventWriteReady}]{\setlength{\rightskip}{0pt plus 5cm}virtual bool mdtAbstractPort::waitEventWriteReady (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classmdt_abstract_port_a7773bc21c63ce6a275f5a0889935ac83}


Wait until data can be written to port. 

This method is called from \hyperlink{classmdt_port_write_thread}{mdtPortWriteThread} , and should not be used directly.\par
 Mutex must be locked before calling this method with \hyperlink{classmdt_abstract_port_a6bf2ecdcf894da3929a22eb8793a9fe3}{lockMutex()}. The mutex is locked when method returns.

Subclass notes:\par
 This method must be re-\/implemented in subclass.\par
 Notes about mutex handling:
\begin{DoxyItemize}
\item Mutex must be released during wait, and relocked befor return.
\end{DoxyItemize}

\begin{DoxyReturn}{Returns}
False on error, in this case, the reader thread will be stopped. 
\end{DoxyReturn}


Implemented in \hyperlink{classmdt_port_a2307bdc3b7d89f27e65b96b8a359b70a}{mdtPort}, \hyperlink{classmdt_usbtmc_port_aaa58100bc6ec2a5f91a3c6bb3676a468}{mdtUsbtmcPort}, \hyperlink{classmdt_tcp_socket_a91ada4fd18d31646c2a4d630b8f9ff21}{mdtTcpSocket}, and \hyperlink{classmdt_serial_port_a815275951e5834daf5068ffb48fcdcb3}{mdtSerialPort}.

\hypertarget{classmdt_abstract_port_ae77785fbad938eac5f24f437e7683277}{
\index{mdtAbstractPort@{mdtAbstractPort}!waitForReadyRead@{waitForReadyRead}}
\index{waitForReadyRead@{waitForReadyRead}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{waitForReadyRead}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtAbstractPort::waitForReadyRead (
\begin{DoxyParamCaption}
\item[{int}]{msecs}
\end{DoxyParamCaption}
)}}
\label{classmdt_abstract_port_ae77785fbad938eac5f24f437e7683277}


Wait until data is available on port. 

This method calls \hyperlink{classmdt_abstract_port_a6589b04467e0073d18ba872201bdcd84}{setReadTimeout()} and \hyperlink{classmdt_abstract_port_a848e3c86aa6ec480e8c471655fbcf5c5}{waitForReadyRead()} (it is a little bit slower than setting timeout one time, and call \hyperlink{classmdt_abstract_port_a848e3c86aa6ec480e8c471655fbcf5c5}{waitForReadyRead()} ).\par
 Note that the reader thread will call \hyperlink{classmdt_abstract_port_a848e3c86aa6ec480e8c471655fbcf5c5}{waitForReadyRead()} without argument.\par
 Note: this method is called from thread , and should not be used directly\par
 Mutex: see \hyperlink{classmdt_abstract_port_a848e3c86aa6ec480e8c471655fbcf5c5}{waitForReadyRead()}


\begin{DoxyParams}{Parameters}
{\em timeout} & Timeout \mbox{[}ms\mbox{]}. A value of -\/1 means a infinite timeout. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
False on error, in this case, the reader thread will be stopped. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{classmdt_abstract_port_a848e3c86aa6ec480e8c471655fbcf5c5}{waitForReadyRead()} 
\end{DoxySeeAlso}
\hypertarget{classmdt_abstract_port_a848e3c86aa6ec480e8c471655fbcf5c5}{
\index{mdtAbstractPort@{mdtAbstractPort}!waitForReadyRead@{waitForReadyRead}}
\index{waitForReadyRead@{waitForReadyRead}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{waitForReadyRead}]{\setlength{\rightskip}{0pt plus 5cm}virtual bool mdtAbstractPort::waitForReadyRead (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classmdt_abstract_port_a848e3c86aa6ec480e8c471655fbcf5c5}


Wait until data is available on port. 

This method is called from \hyperlink{classmdt_port_read_thread}{mdtPortReadThread} , and should not be used directly.\par
 Mutex must be locked before calling this method with \hyperlink{classmdt_abstract_port_a6bf2ecdcf894da3929a22eb8793a9fe3}{lockMutex()}. The mutex is locked when method returns.

Subclass notes:\par
 This method must be re-\/implemented in subclass. The read timeout state must be updated with \hyperlink{classmdt_abstract_port_a0fc7317e988d5dea53a999cd1bf4faa9}{updateReadTimeoutState()}\par
 Notes about mutex handling:
\begin{DoxyItemize}
\item Mutex must be released during wait, and relocked befor return.
\end{DoxyItemize}

\begin{DoxyReturn}{Returns}
False on error, in this case, the reader thread will emit errorOccured()
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{classmdt_port_thread}{mdtPortThread} 

\hyperlink{classmdt_port_config}{mdtPortConfig} 

\hyperlink{classmdt_tcp_socket_thread}{mdtTcpSocketThread} 
\end{DoxySeeAlso}


Implemented in \hyperlink{classmdt_port_af8737cc14667f6770af7be01759253e2}{mdtPort}, \hyperlink{classmdt_usbtmc_port_a46efba4f2d3dbb3c917368323de0333b}{mdtUsbtmcPort}, \hyperlink{classmdt_tcp_socket_a381bf5194cf180ca95f5f4bae730f73c}{mdtTcpSocket}, and \hyperlink{classmdt_serial_port_a0334aa073299f6161034e6be7c60939d}{mdtSerialPort}.

\hypertarget{classmdt_abstract_port_a64d4802975a76474b9196c91f57a6d90}{
\index{mdtAbstractPort@{mdtAbstractPort}!write@{write}}
\index{write@{write}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{write}]{\setlength{\rightskip}{0pt plus 5cm}virtual qint64 mdtAbstractPort::write (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{data, }
\item[{qint64}]{maxSize}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}pure virtual\mbox{]}}}}
\label{classmdt_abstract_port_a64d4802975a76474b9196c91f57a6d90}


Write data to port. 

This method is called from \hyperlink{classmdt_port_write_thread}{mdtPortWriteThread} , and should not be used directly.

Mutex is not handled by this method.

Subclass notes:\par
 This method must be implemented in subclass.\par


\begin{DoxyReturn}{Returns}
Number of bytes written, or $<$0 on error 
\end{DoxyReturn}


Implemented in \hyperlink{classmdt_port_a62f4a6f2c547d40d3743ce893e0f64d6}{mdtPort}, \hyperlink{classmdt_usbtmc_port_a32b98d2a61617293c328a343d62d52c3}{mdtUsbtmcPort}, \hyperlink{classmdt_tcp_socket_adbf2db44b291127a499d9f8720beb632}{mdtTcpSocket}, and \hyperlink{classmdt_serial_port_a282f99035c032fbb6fa86ccd10deb597}{mdtSerialPort}.

\hypertarget{classmdt_abstract_port_a4fed10be147dfce6ca315467ff3fb968}{
\index{mdtAbstractPort@{mdtAbstractPort}!writeFrames@{writeFrames}}
\index{writeFrames@{writeFrames}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{writeFrames}]{\setlength{\rightskip}{0pt plus 5cm}QQueue$<$ {\bf mdtFrame} $\ast$ $>$ \& mdtAbstractPort::writeFrames (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_abstract_port_a4fed10be147dfce6ca315467ff3fb968}


Get the write frames Queue. 

Write frames queue contains frames that must be sent

Mutex is not handled by this method. \hypertarget{classmdt_abstract_port_abf093b67fddebffa4f3c52277b9a8cf7}{
\index{mdtAbstractPort@{mdtAbstractPort}!writeFramesPool@{writeFramesPool}}
\index{writeFramesPool@{writeFramesPool}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{writeFramesPool}]{\setlength{\rightskip}{0pt plus 5cm}QQueue$<$ {\bf mdtFrame} $\ast$ $>$ \& mdtAbstractPort::writeFramesPool (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_abstract_port_abf093b67fddebffa4f3c52277b9a8cf7}


Get the write frames Queue pool. 

Write frames queue pool contains frames that are ready to use for transmission

Mutex is not handled by this method. \hypertarget{classmdt_abstract_port_a2235d62d9a9e4555d41773c41cc3bc70}{
\index{mdtAbstractPort@{mdtAbstractPort}!writeOneFrame@{writeOneFrame}}
\index{writeOneFrame@{writeOneFrame}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{writeOneFrame}]{\setlength{\rightskip}{0pt plus 5cm}void mdtAbstractPort::writeOneFrame (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classmdt_abstract_port_a2235d62d9a9e4555d41773c41cc3bc70}


Just for special cases. 

In some case, this method is implemented in subclass. Default implementation does nothing. \begin{DoxySeeAlso}{See also}
\hyperlink{classmdt_usbtmc_port}{mdtUsbtmcPort} 
\end{DoxySeeAlso}


Reimplemented in \hyperlink{classmdt_usbtmc_port_a97fca5f136f232275d90ab5b8c5ce285}{mdtUsbtmcPort}.

\hypertarget{classmdt_abstract_port_a7c05a1abe77f0c3c334016c6ad866f67}{
\index{mdtAbstractPort@{mdtAbstractPort}!writeTimeoutOccured@{writeTimeoutOccured}}
\index{writeTimeoutOccured@{writeTimeoutOccured}!mdtAbstractPort@{mdtAbstractPort}}
\subsubsection[{writeTimeoutOccured}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtAbstractPort::writeTimeoutOccured (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_abstract_port_a7c05a1abe77f0c3c334016c6ad866f67}


Returns write timeout state. 

Mutex is not handled by this method. 

The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
src/mdtport/mdtAbstractPort.h\item 
src/mdtport/mdtAbstractPort.cpp\end{DoxyCompactItemize}
