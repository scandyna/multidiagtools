
# List of source files
set(SOURCE_FILES
  Mdt/Sql/Schema/Reflection/FieldAlgorithm.cpp
  Mdt/Sql/Schema/Reflection/PrimaryKeyAlgorithm.cpp
  Mdt/Sql/Schema/Reflection/TableAlgorithm.cpp
  Mdt/Sql/Schema/Reflection/UniqueIndexAlgorithm.cpp
  Mdt/Sql/Schema/Reflection/ForeignKeyAlgorithm.cpp
  Mdt/Sql/Schema/Reflection.cpp
  Mdt/Sql/ReflectionDeleteStatement.cpp
  Mdt/Sql/Reflection/PrimaryKeyRecordAlgorithm.cpp
  Mdt/Sql/Reflection/InsertStatement.cpp
  Mdt/Sql/Reflection/DeleteStatement.cpp
  Mdt/Sql/Reflection/UpdateStatement.cpp
  Mdt/Sql/ReflectionStorageTableBase.cpp
  Mdt/Sql/ReflectionStorageTable.cpp
  Mdt/Sql/ReflectionStorageTableWithId.cpp
)

find_package(Qt5 COMPONENTS Sql)

mdt_add_library(
  NAME Sql_Reflection
  SOURCE_FILES ${SOURCE_FILES}
  HEADERS_DIRECTORY .
  LINK_DEPENDENCIES Reflection_Core QueryExpression_Reflection Sql_Core Qt5::Sql
)
mdt_set_library_description(
  NAME Sql_Reflection
  DESCRIPTION "Reflection support for the Sql library."
)
target_compile_definitions(Sql_Reflection PRIVATE QT_NO_CAST_FROM_ASCII QT_NO_CAST_TO_ASCII QT_NO_CAST_FROM_BYTEARRAY)
